var d=Object.defineProperty;var c=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var h=(e,t,r)=>c(e,typeof t!="symbol"?t+"":t,r);import{u as f}from"./DMCex30FeWvvThtDj-pY.js";import{ap as l,aI as g,w as v,ao as i,an as m}from"./YuA7MKX-N8BBDZOAxa77.js";import"./DHHhgtpjOMdQgGr8ao9W.js";import"./Bj3GVG-z3cLqjL0zb1L8.js";import"./CC5WMRh9aNqjC5F0jn7z.js";import"./D_zrOCkx60RrrErYDafh.js";import"./C209ML8Rq_9uA-wXKXZ0.js";import"./DlH2QNQoQjgrht8yWmkX.js";import"./DYrM_Gkt8RaZjkTPRNi-.js";import"./qz4BddTetYdFfyodnFyA.js";import"./Y8-bfeL-ADaHJ2-vaWDg.js";import{U as y}from"./ChPfX-PAxRw_FvfQ9QCH.js";var b=Object.defineProperty,w=Object.getOwnPropertyDescriptor,s=(e,t,r,p)=>{for(var a=p>1?void 0:p?w(t,r):t,u=e.length-1,n;u>=0;u--)(n=e[u])&&(a=(p?n(t,r,a):n(a))||a);return p&&a&&b(t,r,a),a};class o{constructor(t){h(this,"logger",f("UserStore"));h(this,"users");this.app=t,this.users=l.map(),g(this)}add(t){const r=new y(t);return this.users.set(t.id,r),r}addAll(t){t.forEach(r=>this.add(r))}update(t){var r;(r=this.users.get(t.id))==null||r.update(t)}get(t){return this.users.get(t)}get all(){return Array.from(this.users.values())}get count(){return this.users.size}has(t){return this.users.has(t)}async resolve(t,r=!1){if(this.has(t)&&!r)return this.get(t);const p=await this.app.rest.get(v.user(t));if(p)return this.add(p)}}s([l],o.prototype,"users",2);s([i],o.prototype,"add",1);s([i],o.prototype,"addAll",1);s([i],o.prototype,"update",1);s([i],o.prototype,"get",1);s([m],o.prototype,"all",1);s([m],o.prototype,"count",1);s([i],o.prototype,"resolve",1);export{o as U};
