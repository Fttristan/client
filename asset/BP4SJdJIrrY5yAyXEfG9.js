import{f as c,o as j,j as o}from"./YuA7MKX-N8BBDZOAxa77.js";import{A as h}from"./CMemKA7NvxEoxcoA2SkN.js";import{I as v}from"./CTQBQDVLsUxJ8nAm-AWD.js";import C from"./C1ay08-o_RwlpkYnMo7b.js";import{C as A}from"./C6B2VPnBNxKCdOzNcpOR.js";import{u as b}from"./LiJY25P-VFx-37gB8DfS.js";import"./DHHhgtpjOMdQgGr8ao9W.js";import"./Bj3GVG-z3cLqjL0zb1L8.js";import"./CC5WMRh9aNqjC5F0jn7z.js";import"./D_zrOCkx60RrrErYDafh.js";import"./C209ML8Rq_9uA-wXKXZ0.js";import"./DlH2QNQoQjgrht8yWmkX.js";import{Q as a}from"./DYrM_Gkt8RaZjkTPRNi-.js";import"./qz4BddTetYdFfyodnFyA.js";import"./Y8-bfeL-ADaHJ2-vaWDg.js";import"./ChPfX-PAxRw_FvfQ9QCH.js";import{M as E}from"./BpAKrM3CF6_ANukD4sBh.js";import{M as _}from"./Chhv1ahG7rBh3YsuTRdJ.js";import{M as I,a as y,b as d,c as S,d as D}from"./Bjz3AY4s3Hm6o9CScLsz.js";import{M as N}from"./Bk4OInCS8B2dJHwieQaN.js";import{A as Q}from"./BD_AjDDl3_OaC9vOkAsE.js";function R({message:t,header:r}){var p,m;const s=b(),u=c.useContext(A),e=t.guild_id?s.guilds.get(t.guild_id):void 0,x="mention_everyone"in t&&t.mention_everyone,M="mentions"in t&&t.mentions.some(n=>n.id===s.account.id),l=e&&"mention_roles"in t&&t.mention_roles.some(n=>{var i;return(i=e.members.me)==null?void 0:i.roles.some(f=>n===f.id)});return o.jsxs(I,{header:r,mention:x||M||l,onContextMenu:n=>u.onContextMenu(n,{type:"message",message:t}),children:[o.jsx(y,{children:r?o.jsx(h,{user:t.author,size:32},t.author.id):o.jsx(d,{message:t,position:"left"})}),o.jsxs(S,{children:[r&&o.jsxs("span",{className:"message-details",children:[o.jsx(_,{message:t,guild:e}),o.jsx(d,{message:t,position:"top"})]}),o.jsx(D,{sending:"status"in t&&t.status===a.SENDING,failed:"status"in t&&t.status===a.FAILED,children:t.content&&o.jsx(C,{content:t.content})}),"attachments"in t&&t.attachments.map((n,i)=>o.jsx(E,{attachment:n},i)),"embeds"in t&&((p=t.embeds)==null?void 0:p.map((n,i)=>o.jsx(N,{embed:n},i))),"files"in t&&((m=t.files)==null?void 0:m.length)!==0&&o.jsx(Q,{message:t}),"invites"in t&&t.invites.map((n,i)=>o.jsx(v,{code:n,isSelf:t.author.id===s.account.id},i))]})]})}const g=c.memo(j(R));export{g as M};
